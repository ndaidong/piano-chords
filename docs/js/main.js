function _toConsumableArray(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}!function(){var n=[],t=function(t,e){var a=t.index+("major"===e?4:3),o=a+("major"===e?3:4);return!(o>=n.length)&&[t,n[a],n[o]]},e=function(t){var e=t[0],a=t[t.length-1];return e[0].index>n.length-a[2].index?e:a};window.Chord={init:function(t){n=[].concat(_toConsumableArray(t))},build:function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"major",r=n.filter(function(n){return n.note===a}).map(function(n){return t(n,o)}).filter(function(n){return!1!==n}),i=r.length>1?e(r):r[0];return{name:a,tone:o,chord:i,play:function(){i[0].play().then(i[1].play).then(i[2].play)},activate:function(){i.forEach(function(n){n.activate(1)})},desactivate:function(){i.forEach(function(n){n.activate(0)})}}}}}(),function(){var n=bella.clone,t=[{root:"c",name:"C"},{root:"g",name:"G"},{root:"d",name:"D"},{root:"a",name:"A"},{root:"e",name:"E"},{root:"b",name:"B",alias:"C♭"},{root:"f#",name:"F#",alias:"G♭"},{root:"c#",name:"D♭",alias:"C#"},{root:"g#",name:"A♭"},{root:"d#",name:"E♭"},{root:"a#",name:"B♭"},{root:"f",name:"F"}].map(function(n,t){return n.index=t,n}),e=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n(t),r=e+a;return r>=o.length?o[r-o.length]:o[r]},a=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n(t),r=e-a;return r<0?o[o.length+r]:o[r]},o=function(n){if("minor"!==n.type){n.type="minor";var t=n.name;n.name=t+"m"}return n},r=function(n){return[e(n,2),e(n,3),e(n,4)].map(o)},i=function(n){return[a(n,2),a(n,3),a(n,4)].map(function(n){return n.type="major",n})};window.Scale={all:function(){return n(t)},findChords:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"major",c=n(t),u=c[e],l=e-1;l<0&&(l=c.length-1);var f=c[l],m=e+1;m>c.length-1&&(m=0);var s=[f,u,c[m]];return"major"===a?s=s.map(function(n){return n.type="major",n}).concat(r(e)):"minor"===a&&(s=s.map(o).concat(i(e))),s}}}(),function(){tones.volumn=1,tones.attack=0,tones.release=300,tones.type="square";var n=realdom,t=n.get,e=n.add,a=n.create,o=n.queryAll,r=n.Event,i=[];o(".octave").forEach(function(n){var t=Number(n.getAttribute("octave"));n.queryAll(".key").forEach(function(n){var e=n.getAttribute("key");i.push({index:i.length,octave:t,note:e,key:n,play:function(){return new Promise(function(a){n.addClass("active"),setTimeout(function(){tones.play(e,t),setTimeout(function(){n.removeClass("active"),a()},100)},0)})},activate:function(t){t?n.addClass("highlight"):n.removeClass("highlight")}}),r.on(n,"click",function(){tones.play(e,t)})})}),Chord.init(i);var c=t("scaleList"),u=t("scaleType"),l=0;Scale.all().forEach(function(n){var t=a("OPTION"),e=n.name,o=n.alias,r=void 0===o?"":o,i=e;""!==r&&(i+="/"+r),t.text=i,t.value=l,c.appendChild(t),l++});var f=t("chordList"),m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f.html(""),n.map(function(n){var t=e("SPAN",f);t.addClass("chord-btn"),t.html(n.name);var a=n.root,o=n.type,r=Chord.build(a,o);return t.onmouseover=r.activate,t.onmouseout=r.desactivate,t.onclick=function(){r.play(0)},t})},s=function(){var n=c.value,t=u.value,e=Scale.findChords(Number(n),t);m(e)};r.on(c,"change",s),r.on(u,"change",s),s()}(),function(n,t,e,a,o,r,i){n.GoogleAnalyticsObject=o,n[o]=n[o]||function(){(n[o].q=n[o].q||[]).push(arguments)},n[o].l=1*new Date,r=t.createElement(e),i=t.getElementsByTagName(e)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(r,i)}(window,document,"script",0,"ga"),ga("create","UA-28010152-24","auto"),ga("send","pageview");