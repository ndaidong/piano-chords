function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.bella=e.bella||{})}(this,function(e){"use strict";var t=function(){for(var e=[],t=0;64>t;)e[t]=0|4294967296*Math.abs(Math.sin(++t));return function(t){for(var n,r,o,a,i=[],u=(t=unescape(encodeURI(t))).length,c=[n=1732584193,r=-271733879,~n,~r],f=0;f<=u;)i[f>>2]|=(t.charCodeAt(f)||128)<<f++%4*8;for(i[t=16*(u+8>>6)+14]=8*u,f=0;f<t;f+=16){for(u=c,a=0;64>a;)u=[o=u[3],(n=0|u[1])+((o=u[0]+[n&(r=u[2])|~n&o,o&n|~o&r,n^r^o,r^(n|~o)][u=a>>4]+(e[a]+(0|i[[a,5*a+1,3*a+5,7*a][u]%16+f])))<<(u=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*u+a++%4])|o>>>32-u),n,r];for(a=4;a;)c[--a]=c[a]+u[a]}for(t="";32>a;)t+=(c[a>>3]>>4*(1^7&a++)&15).toString(16);return t}}(),n=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},r=Number.MAX_SAFE_INTEGER,o=function(e){return{}.toString.call(e)},a=function(e){return"[object Null]"===o(e)},i=function(e){return"[object Undefined]"===o(e)},u=function(e){return"[object String]"===o(e)},c=function(e){return"[object Number]"===o(e)},f=function(e){return Number.isInteger(e)},l=function(e){return Array.isArray(e)},s=function(e){return"[object Object]"===o(e)&&!l(e)},v=function(e){return e instanceof Date&&!isNaN(e.valueOf())},d=function(e){return!e||i(e)||a(e)||u(e)&&""===e||l(e)&&"[]"===JSON.stringify(e)||s(e)&&"{}"===JSON.stringify(e)},g=function(e,t){return!(!e||!t)&&Object.prototype.hasOwnProperty.call(e,t)},h=function(e){var t=c(e)?String(e):e;if(!u(t))throw new Error("InvalidInput: String required.");return t},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h(e);return(n=n.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""))&&t&&(n=n.replace(/\r?\n|\r/g," ").replace(/\s\s+|\r/g," ")),n},m=function(e){var t=h(e);return 1===t.length?t.toUpperCase():(t=t.toLowerCase()).charAt(0).toUpperCase()+t.slice(1)},b=function e(t,n,r){var o=h(t);if(c(n)&&(n=String(n)),c(r)&&(r=String(r)),u(n)&&u(r)){var a=o.split(n);o=a.join(r)}else if(l(n)&&u(r))n.forEach(function(t){o=e(o,t,r)});else if(l(n)&&l(r)&&n.length===r.length){var i=n.length;if(i>0)for(var f=0;f<i;f++){var s=n[f],v=r[f];o=e(o,s,v)}}return o},y=function(e){var t=h(e),n={a:"á|à|ả|ã|ạ|ă|ắ|ặ|ằ|ẳ|ẵ|â|ấ|ầ|ẩ|ẫ|ậ|ä",A:"Á|À|Ả|Ã|Ạ|Ă|Ắ|Ặ|Ằ|Ẳ|Ẵ|Â|Ấ|Ầ|Ẩ|Ẫ|Ậ|Ä",c:"ç",C:"Ç",d:"đ",D:"Đ",e:"é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ|ë",E:"É|È|Ẻ|Ẽ|Ẹ|Ê|Ế|Ề|Ể|Ễ|Ệ|Ë",i:"í|ì|ỉ|ĩ|ị|ï|î",I:"Í|Ì|Ỉ|Ĩ|Ị|Ï|Î",o:"ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ|ö",O:"Ó|Ò|Ỏ|Õ|Ọ|Ô|Ố|Ồ|Ổ|Ô|Ộ|Ơ|Ớ|Ờ|Ở|Ỡ|Ợ|Ö",u:"ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự|û",U:"Ú|Ù|Ủ|Ũ|Ụ|Ư|Ứ|Ừ|Ử|Ữ|Ự|Û",y:"ý|ỳ|ỷ|ỹ|ỵ",Y:"Ý|Ỳ|Ỷ|Ỹ|Ỵ"},r=function(e,n){t=b(t,e,n)};for(var o in n)!function(e){g(n,e)&&n[e].split("|").forEach(function(t){return r(t,e)})}(o);return t},A=function(e,t){var n=[];return t&&(u(t)||s(t)||l(t))?function e(t,r,o){o&&n.push(o);var a=[];for(var i in r)if(g(r,i)){var f=r[i];if(c(f)&&(f=String(f)),s(f)||l(f))a.push({key:i,data:f});else if(u(f)){f=b(f,["{","}"],["&#123;","&#125;"]);var v=n.concat([i]),d=new RegExp("{"+v.join(".")+"}","gi");t=t.replace(d,f)}}return a.length>0&&a.forEach(function(n){t=e(t,n.data,n.key)}),p(t,!0)}(e,t):e},E=function(e,t){if((!e||e<0)&&(e=0),t||(t=r),e===t)return t;e>t&&(e=Math.min(e,t),t=Math.max(e,t));var n=e,o=t-e+1;return Math.floor(Math.random()*o)+n},j=function e(t){if(v(t))return new Date(t.valueOf());var r=function(t){var n=Object.create({});for(var r in t)g(t,r)&&(n[r]=e(t[r]));return n};return l(t)?function t(o){return[].concat(n(o)).map(function(n){return l(n)?t(n):s(n)?r(n):e(n)})}(t):s(t)?r(t):t};e.isNull=a,e.isUndefined=i,e.isFunction=function(e){return"[object Function]"===o(e)},e.isString=u,e.isNumber=c,e.isInteger=f,e.isArray=l,e.isObject=s,e.isBoolean=function(e){return!0===e||!1===e},e.isDate=v,e.isElement=function(e){return o(e).match(/^\[object HTML\w*Element]$/)},e.isLetter=function(e){var t=/^[a-z]+$/i;return u(e)&&t.test(e)},e.isEmail=function(e){var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return u(e)&&t.test(e)},e.isEmpty=d,e.hasProperty=g,e.equals=function e(t,n){var r=!0;if(d(t)&&d(n))return!0;if(v(t)&&v(n))return t.getTime()===n.getTime();if(c(t)&&c(n)||u(t)&&u(n))return t===n;if(l(t)&&l(n)){if(t.length!==n.length)return!1;if(t.length>0)for(var o=0,a=t.length;o<a;o++)if(!e(t[o],n[o])){r=!1;break}}else if(s(t)&&s(n)){var i=[],f=[];for(var h in t)g(t,h)&&i.push(h);for(var p in n)g(n,p)&&f.push(p);if(i.length!==f.length)return!1;for(var m in t)if(!g(n,m)||!e(t[m],n[m])){r=!1;break}}return r},e.toString=h,e.encode=function(e){var t=h(e);return encodeURIComponent(t)},e.decode=function(e){var t=h(e);return decodeURIComponent(t.replace(/\+/g," "))},e.trim=p,e.truncate=function(e,t){var n=h(e),r=t||140;if(n.length<=r)return n;var o=n.substring(0,r),a=o.split(" "),i="";return a.length>1?(a.pop(),(i+=a.join(" ")).length<n.length&&(i+="...")):i=(o=o.substring(0,r-3))+"...",i},e.stripTags=function(e){var t=h(e);return p(t.replace(/<.*?>/gi," ").replace(/\s\s+/g," "))},e.escapeHTML=function(e){return h(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.unescapeHTML=function(e){return h(e).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},e.ucfirst=m,e.ucwords=function(e){var t=[];return h(e).split(" ").forEach(function(e){t.push(m(e))}),t.join(" ")},e.leftPad=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=h(e);return r.length>=t?r:new Array(t-r.length+1).join(n)+r},e.rightPad=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=h(e);return r.length>=t?r:r+new Array(t-r.length+1).join(n)},e.repeat=function(e,t){var n=h(e);if(!f(t)||t<1)return n;if(n.length*t>=1<<28)throw new RangeError("Repeat count must not overflow maximum string size.");var r=[];return r.length=t,r.fill(n,0,t).join("")},e.replaceAll=b,e.stripAccent=y,e.createAlias=function(e,t){var n=p(y(e)),r=t||"-";return n.toLowerCase().replace(/\W+/g," ").replace(/\s+/g," ").replace(/\s/g,r)},e.template=function(e){return{compile:function(t){return A(e,t)}}},e.random=E,e.createId=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="abcdefghijklmnopqrstuvwxyz",r=[n,n.toUpperCase(),"0123456789"].join("").split("").sort(function(){return Math.random()>.5}).join(""),o=r.length,a=Math.max(e||32,t.length),i=t;i.length<a;){var u=E(0,o);i+=r.charAt(u)||""}return i},e.clone=j,e.copies=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];for(var a in t)if(!(o.length>0&&o.includes(a))&&(!r||r&&n.hasOwnProperty(a))){var i=t[a],u=n[a];s(u)&&s(i)||l(u)&&l(i)?n[a]=e(i,n[a],r,o):n[a]=j(i)}return n},e.unique=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat(n(new Set(e)))},e.curry=function(e){return function t(r,o){return r>0?function(){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];return t(r-a.length,[].concat(n(o),a))}:e.apply(void 0,n(o))}(e.length,[])},e.compose=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(n){return e(t(n))}})},e.pipe=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(n){return t(e(n))}})},e.now=function(){return new Date},e.time=function(){return Date.now()},e.md5=t,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.realdom=e.realdom||{})}(this,function(e){"use strict";var t=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},n=function(e){return{}.toString.call(e)},r=function(e){return"[object Undefined]"===n(e)},o=function(e){return"[object Function]"===n(e)},a=function(e){return"[object String]"===n(e)},i=function(e){return"[object Number]"===n(e)},u=function(e){return Array.isArray(e)},c=function(e){return"[object Object]"===n(e)&&!u(e)},f=function(e){return n(e).match(/^\[object HTML\w*Element]$/)},l=function(e){var t=i(e)?String(e):e;if(!a(t))throw new Error("InvalidInput: String required.");return t},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=l(e);return(n=n.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""))&&t&&(n=n.replace(/\r?\n|\r/g," ").replace(/\s\s+|\r/g," ")),n};Array.from||(Array.from=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t});var v,d=function(e,t){var n=/^([a-z]+)([A-Z]{1})([a-z]+)$/,r=e.match(n);if(r&&0===r.index){var o=[];o.push(r[1]),o.push("-"),o.push(r[2]),o.push(r[3]),e=o.join("").toLowerCase()}return i(t)&&(t+="px"),{key:e,value:t}},g=navigator,h=window,p=document,m=function(e){var t=(a(e)?p.getElementById(e):e)||null;return t&&!t.___BEHAVIORS_ATTACHED?v(t):t},b=function(e){var t=void 0,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p).querySelector(e);return n&&(t=m(n)),t},y=function(e){var t=[],n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p).querySelectorAll(e);return n&&Array.from(n).forEach(function(e){t.push(m(e))}),t};v=function(e){if(e&&f(e)){e.query=function(t){return b(t,e)},e.queryAll=function(t){return y(t,e)};var n=e.classList;e.hasClass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=s(e,!0);return!!t&&n.contains(t)},e.addClass=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=s(r,!0);if(!o)return!1;var a=o.split(" ");return n.add.apply(n,t(a)),e},e.removeClass=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=s(r,!0);if(!o)return!1;var a=o.split(" ");return n.remove.apply(n,t(a)),e},e.toggleClass=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=s(t,!0);if(!r)return!1;var o=r.split(" ");return o.length>1?o.forEach(function(e){n.toggle(e)}):n.toggle(r),e},e.replaceClass=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=s(t,!0),o=s(n,!0);return e.removeClass(r),e.addClass(o),e},e.setProperty=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in t)if(""!==t[n]){var r=t[n];(a(r)||i(r))&&e.setAttribute(n,r)}return e};var o=function(e){return e.replace(/;+/gi,";").replace(/:/gi,": ")+";"};e.setStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];if(c(t)){for(var r in t)if(""!==t[r]){var u=t[r];if(a(u)||i(u)){var f=d(r,u);n.push([f.key,f.value].join(":"))}}}else a(t)&&(n=t.split(";"));var l=e.getAttribute("style");l&&(n=l.split(";").concat(n)),n.push("");var v=n.filter(function(e){return s(e,!0).length>0}).map(function(e){return e.split(":").map(function(e){return s(e,!0)}).join(":")}).join("; ");return e.setAttribute("style",o(v)),e},e.empty=function(){return e.innerHTML="",e},e.html=function(t){return r(t)?e.innerHTML:(e.innerHTML=t,e)},e.destroy=function(){e.parentNode&&e.parentNode.removeChild(e)},e.___BEHAVIORS_ATTACHED=1}return e};var A=function(){var e=function(e){var t=g.userAgent.toLowerCase();return/gecko/i.test(t)}();return{on:function(t,n,r){if(r&&o(r)){var i=a(t)?m(t):t;i&&f(i)&&("wheel"===n&&(n=e?"DOMMouseScroll":"mousewheel"),i.addEventListener?i.addEventListener(n,r,!1):i.attachEvent&&i.attachEvent("on"+n,r))}},off:function(e,t,n){if(n&&o(n)){var r=a(e)?m(e):e;r&&f(r)&&(r.removeEventListener?r.removeEventListener(t,n,!1):r.detachEvent&&r.detachEvent("on"+t,n))}},simulate:function(e,t){var n=void 0,r=a(e)?m(e):e;p.createEventObject?(n=p.createEventObject(),r.fireEvent("on"+t,n)):((n=p.createEvent("HTMLEvents")).initEvent(t,!0,!0),r.dispatchEvent(n))},stop:function(e){return e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1},locate:function(e){var t=e||h.event,n=t.target||t.srcElement;return n&&3===n.nodeType&&(n=n.parentNode),m(n)}}}();e.get=m,e.add=function(e,t){var n=t?m(t):p.body,r=f(e)?e:p.createElement(e);return n.appendChild(r),m(r)},e.create=function(e){return m(p.createElement(e))},e.query=b,e.queryAll=y,e.ready=function(e){"loading"!==p.readyState?setTimeout(e,0):p.addEventListener("DOMContentLoaded",e)},e.Event=A,Object.defineProperty(e,"__esModule",{value:!0})}),function(e){var t={context:new(e.AudioContext||e.webkitAudioContext),attack:1,release:100,volume:1,type:"sine",playFrequency:function(e){this.attack=this.attack||1,this.release=this.release||1;var n=this.context.createGain();n.gain.setValueAtTime(this.volume,this.context.currentTime),n.connect(this.context.destination),n.gain.setValueAtTime(0,this.context.currentTime),n.gain.setTargetAtTime(this.volume,this.context.currentTime,this.attack/1e3),this.release&&(n.gain.setTargetAtTime(0,this.context.currentTime+this.attack/1e3,this.release/1e3),setTimeout(function(){r.stop(),r.disconnect(n),n.gain.cancelScheduledValues(t.context.currentTime),n.disconnect(t.context.destination)},10*this.attack+10*this.release));var r=this.context.createOscillator();r.frequency.setValueAtTime(e,this.context.currentTime),r.type=this.type,r.connect(n),r.start()},play:function(e,t){"number"==typeof e?this.playFrequency(e):"string"==typeof e&&(null==t&&(t=4),this.playFrequency(this.map[t][e.toLowerCase()]))},getTimeMS:function(){return 1e3*this.context.currentTime},map:[{c:16.351,"c#":17.324,db:17.324,d:18.354,"d#":19.445,eb:19.445,e:20.601,f:21.827,"f#":23.124,gb:23.124,g:24.499,"g#":25.956,ab:25.956,a:27.5,"a#":29.135,bb:29.135,b:30.868},{c:32.703,"c#":34.648,db:34.648,d:36.708,"d#":38.891,eb:38.891,e:41.203,f:43.654,"f#":46.249,gb:46.249,g:48.999,"g#":51.913,ab:51.913,a:55,"a#":58.27,bb:58.27,b:61.735},{c:65.406,"c#":69.296,db:69.296,d:73.416,"d#":77.782,eb:77.782,e:82.407,f:87.307,"f#":92.499,gb:92.499,g:97.999,"g#":103.826,ab:103.826,a:110,"a#":116.541,bb:116.541,b:123.471},{c:130.813,"c#":138.591,db:138.591,d:146.832,"d#":155.563,eb:155.563,e:164.814,f:174.614,"f#":184.997,gb:184.997,g:195.998,"g#":207.652,ab:207.652,a:220,"a#":233.082,bb:233.082,b:246.942},{c:261.626,"c#":277.183,db:277.183,d:293.665,"d#":311.127,eb:311.127,e:329.628,f:349.228,"f#":369.994,gb:369.994,g:391.995,"g#":415.305,ab:415.305,a:440,"a#":466.164,bb:466.164,b:493.883},{c:523.251,"c#":554.365,db:554.365,d:587.33,"d#":622.254,eb:622.254,e:659.255,f:698.456,"f#":739.989,gb:739.989,g:783.991,"g#":830.609,ab:830.609,a:880,"a#":932.328,bb:932.328,b:987.767},{c:1046.502,"c#":1108.731,db:1108.731,d:1174.659,"d#":1244.508,eb:1244.508,e:1318.51,f:1396.913,"f#":1479.978,gb:1479.978,g:1567.982,"g#":1661.219,ab:1661.219,a:1760,"a#":1864.655,bb:1864.655,b:1975.533},{c:2093.005,"c#":2217.461,db:2217.461,d:2349.318,"d#":2489.016,eb:2489.016,e:2637.021,f:2793.826,"f#":2959.955,gb:2959.955,g:3135.964,"g#":3322.438,ab:3322.438,a:3520,"a#":3729.31,bb:3729.31,b:3951.066},{c:4186.009,"c#":4434.922,db:4434.922,d:4698.636,"d#":4978.032,eb:4978.032,e:5274.042,f:5587.652,"f#":5919.91,gb:5919.91,g:6271.928,"g#":6644.876,ab:6644.876,a:7040,"a#":7458.62,bb:7458.62,b:7902.132},{c:8372.018,"c#":8869.844,db:8869.844,d:9397.272,"d#":9956.064,eb:9956.064,e:10548.084,f:11175.304,"f#":11839.82,gb:11839.82,g:12543.856,"g#":13289.752,ab:13289.752,a:14080,"a#":14917.24,bb:14917.24,b:15804.264}]};t.context.createGain(),"function"==typeof define&&define.amd?define(t):e.tones=t}(window),function(){var e=[],t=function(t,n){var r=t.index+("major"===n?4:3),o=r+("major"===n?3:4);return!(o>=e.length)&&[t,e[r],e[o]]},n=function(t){var n=t[0],r=t[t.length-1];return n[0].index>e.length-r[2].index?n:r};window.Chord={init:function(t){e=[].concat(_toConsumableArray(t))},build:function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"major",a=e.filter(function(e){return e.note===r}).map(function(e){return t(e,o)}).filter(function(e){return!1!==e}),i=a.length>1?n(a):a[0];return{name:r,tone:o,chord:i,play:function(){i[0].play().then(i[1].play).then(i[2].play)},activate:function(){i.forEach(function(e){e.activate(1)})},desactivate:function(){i.forEach(function(e){e.activate(0)})}}}}}(),function(){var e=bella.clone,t=[{root:"c",name:"C"},{root:"g",name:"G"},{root:"d",name:"D"},{root:"a",name:"A"},{root:"e",name:"E"},{root:"b",name:"B",alias:"C♭"},{root:"f#",name:"F#",alias:"G♭"},{root:"c#",name:"D♭",alias:"C#"},{root:"g#",name:"A♭"},{root:"d#",name:"E♭"},{root:"a#",name:"B♭"},{root:"f",name:"F"}].map(function(e,t){return e.index=t,e}),n=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=e(t),a=n+r;return a>=o.length?o[a-o.length]:o[a]},r=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=e(t),a=n-r;return a<0?o[o.length+a]:o[a]},o=function(e){if("minor"!==e.type){e.type="minor";var t=e.name;e.name=t+"m"}return e},a=function(e){return[n(e,2),n(e,3),n(e,4)].map(o)},i=function(e){return[r(e,2),r(e,3),r(e,4)].map(function(e){return e.type="major",e})};window.Scale={all:function(){return e(t)},findChords:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"major",u=e(t),c=u[n],f=n-1;f<0&&(f=u.length-1);var l=u[f],s=n+1;s>u.length-1&&(s=0);var v=[l,c,u[s]];return"major"===r?v=v.map(function(e){return e.type="major",e}).concat(a(n)):"minor"===r&&(v=v.map(o).concat(i(n))),v}}}(),function(){tones.volumn=1,tones.attack=0,tones.release=300,tones.type="square";var e=realdom,t=e.get,n=e.add,r=e.create,o=e.queryAll,a=e.Event,i=[];o(".octave").forEach(function(e){var t=Number(e.getAttribute("octave"));e.queryAll(".key").forEach(function(e){var n=e.getAttribute("key");i.push({index:i.length,octave:t,note:n,key:e,play:function(){return new Promise(function(r){e.addClass("active"),setTimeout(function(){tones.play(n,t),setTimeout(function(){e.removeClass("active"),r()},100)},0)})},activate:function(t){t?e.addClass("highlight"):e.removeClass("highlight")}}),a.on(e,"click",function(){tones.play(n,t)})})}),Chord.init(i);var u=t("scaleList"),c=t("scaleType"),f=0;Scale.all().forEach(function(e){var t=r("OPTION"),n=e.name,o=e.alias,a=void 0===o?"":o,i=n;""!==a&&(i+="/"+a),t.text=i,t.value=f,u.appendChild(t),f++});var l=t("chordList"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];l.html(""),e.map(function(e){var t=n("SPAN",l);t.addClass("chord-btn"),t.html(e.name);var r=e.root,o=e.type,a=Chord.build(r,o);return t.onmouseover=a.activate,t.onmouseout=a.desactivate,t.onclick=function(){a.play(0)},t})},v=function(){var e=u.value,t=c.value,n=Scale.findChords(Number(e),t);s(n)};a.on(u,"change",v),a.on(c,"change",v),v()}();